@model IEnumerable<ClearMVC.Models.ProjectDetails>
@{
    ViewBag.Title = "My Jobs";
}

<div class="col-md-12">
    <div class="box box-success">
        <div class="box-header with-border">
            <h3 class="box-title">Berichte Optionen</h3>
        </div>

        @using (Html.BeginForm("MyJobs", "AdminUser", FormMethod.Post, new { @novalidate = "novalidate" }))
        {
            <div class="box-body">
                @Html.AntiForgeryToken()
                <div class="form-group col-md-4">
                    <label class="control-label">Startdatum</label>
                    <input type="date" name="startDate" class="form-control" />
                </div>
                <div class="form-group col-md-4">
                    <label class="control-label">Enddatum</label>
                    <input type="date" name="finishDate" class="form-control" />
                </div>
                <div class="form-group col-md-4">
                    <label class="control-label">Status</label>
                    <select class="form-control" name="status" required>
                        <option value="0" selected disabled>Wählen Sie Bitte...</option>
                        <option value="all">Alle</option>
                        <option value="refuse">Reklamation</option>
                        <option value="nonrefuse">Aufgaben ohne Reklamation</option>
                    </select>
                </div>

            </div>
            <div class="box-footer">
                <input type="submit" class="btn btn-block btn-primary" value="Suche" />
            </div>
        }
        <!-- /.box-body -->
    </div>
</div>

@if (Model.Count() > 0)
{
    <div class="col-xs-12">
        <div class="box box-danger">
            <div class="box-header">
                <h3 class="box-title">Der Befund</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
                <table class="table table-hover">
                    <tbody>
                        <tr>
                            <th>Projekt</th>
                            <th>Type</th>
                            <th>Personal</th>
                            <th>Datum</th>
                            <th>Startzeit</th>
                            <th>Endzeit</th>
                            <th>Für Reklamation</th>
                            <th>Status</th>
                            <th>Prozess</th>
                        </tr>
                        @foreach (var item in Model)
                        {
                    <tr>
                        <td>@item.Projects.Name</td>
                        <td>@item.ProjectDetailsTypes.Type</td>
                        <td>@item.Users.Email</td>
                        <td>@item.StartDate.Value.ToString("dd.MM.yyyy")</td>
                        <td>@item.StartDate.Value.ToString("HH:mm")</td>
                        <td>@item.FinishDate.Value.ToString("HH:mm")</td>
                        <td>
                            @if (item.IsRefuse)
                            {
                                <span class="label label-danger">Ja</span>
                            }
                            else
                            {
                                <span class="label label-success">Nein</span>
                            }
                        </td>
                        <td>
                            @if (item.IsCompleted == true)
                            {
                                <span class="label label-success">Fertig</span>
                            }
                            else
                            {
                                <span class="label label-danger">Nicht Fertig</span>
                            }
                        </td>
                        <td>
                            @Html.ActionLink("Detail","DetailProjectDetailItems","AdminUser",new {Id=item.ProjectDetailsId },new {@class="btn btn-warning btn-block" })
                        </td>
                    </tr>
                        }

                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>

   
}
